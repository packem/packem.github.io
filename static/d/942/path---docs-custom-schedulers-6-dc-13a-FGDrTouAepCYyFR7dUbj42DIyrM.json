{"data":{"site":{"siteMetadata":{"siteUrl":"https://packem.github.io/","title":"Packem - A precompiled ES module bundler","description":"Packem is a compiled ES module bundler and linker."}},"markdownRemark":{"frontmatter":{"title":"Custom Schedulers","date":null,"date_pretty":null,"path":null,"meta_title":"Custom Scheduler Modules - Control your content schedule","meta_description":"Discover how to use a custom adapter for scheduling content on your Ghost publication for advanced publications ⏰","image":null,"next":null,"sidebar":"concepts","toc":null,"keywords":["schedulers","concepts","ghost","publishing"]},"html":"<p>Ghost installs a default adapter for scheduling, or you can use a custom scheduling module instead.</p>\n<h2 id=\"overview\"><a href=\"#overview\" aria-label=\"overview permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Overview</h2>\n<p>The default scheduling adapter in Ghost is configured by default. Once you run Ghost, the scheduling feature is ready to use once you have installed Ghost on your server. Scheduling posts can be accessed within individual posts in the editor within Ghost admin.</p>\n<p>It's possible to use a custom scheduling module instead of the default adapter. This can be useful when: </p>\n<ul>\n<li>\n<p>You have a cache in front of your site and the default adapter is not able to clear a cache entry</p>\n</li>\n<li>\n<p>If you want to write custom adapters to communicate with external schedulers</p>\n</li>\n</ul>\n<h2 id=\"custom-adapters\"><a href=\"#custom-adapters\" aria-label=\"custom adapters permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Custom adapters</h2>\n<p>The following guide explains how to write your own adapters, for example if you wanted to use the <a href=\"https://elements.heroku.com/addons/scheduler/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Heroku Scheduler</a> or your own external logic. </p>\n<h4 id=\"writing-your-adapter\"><a href=\"#writing-your-adapter\" aria-label=\"writing your adapter permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Writing your adapter</h4>\n<p>Use the file name <code class=\"language-text\">my-adapter.js</code>: </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> util <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'util'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// If this require does not work, then your content folder structure is different</span>\n<span class=\"token comment\">// So change the require path so that your adapter can import the scheduling base.</span>\n<span class=\"token keyword\">var</span> SchedulingBase <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../../core/server/adapters/scheduling/SchedulingBase'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">MyAdapter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">options</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">SchedulingBase</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nutil<span class=\"token punctuation\">.</span><span class=\"token function\">inherits</span><span class=\"token punctuation\">(</span>MyAdapter<span class=\"token punctuation\">,</span> SchedulingBase<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// required functions you need to implement</span>\n<span class=\"token class-name\">MyAdapter</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">schedule</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">object</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// when the job should be executed (time is a UTC timestamp)</span>\n    <span class=\"token keyword\">var</span> time <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// the url you need to execute when the time is reached</span>\n    <span class=\"token keyword\">var</span> url <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// the HTTP method you need to use</span>\n    <span class=\"token keyword\">var</span> httpMethod <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>extra<span class=\"token punctuation\">.</span>httpMethod<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">MyAdapter</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">reschedule</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">object</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// see MyAdapter.prototype.schedule</span>\n\n    <span class=\"token comment\">// the time when the url was scheduled before (oldTime is a UTC timestamp)</span>\n    <span class=\"token keyword\">var</span> oldTime <span class=\"token operator\">=</span> object<span class=\"token punctuation\">.</span>extra<span class=\"token punctuation\">.</span>oldTime<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">MyAdapter</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">unschedule</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">object</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// see MyAdapter.prototype.schedule</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//this function is called on server bootstrap</span>\n<span class=\"token class-name\">MyAdapter</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">run</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> MyAdapter<span class=\"token punctuation\">;</span></code></pre></div>\n<h4 id=\"implementing-your-adapter\"><a href=\"#implementing-your-adapter\" aria-label=\"implementing your adapter permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Implementing your adapter</h4>\n<p>Copy your new adapter to <code class=\"language-text\">content/scheduling/</code> and edit your config file to identify your new adapter: </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"scheduling\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"active\"</span><span class=\"token operator\">:</span> 'my-adapter'\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"summary\"><a href=\"#summary\" aria-label=\"summary permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Summary</h2>\n<p>You've found out how to implement a custom scheduling adapter to replace the default scheduler that is installed by Ghost. Utilise this method if you are using a cache in front of your site, or if you want to use external schedulers.</p>","fields":{"slug":"/docs/custom-schedulers/"},"timeToRead":2,"excerpt":"Ghost installs a default adapter for scheduling, or you can use a custom scheduling module instead.OverviewThe default scheduling adapter in…","fileAbsolutePath":"C:/Users/bukharim96/Desktop/Projects/docs/content/docs/custom-schedulers.md"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/docs/custom-schedulers/"}}